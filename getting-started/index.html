



<!doctype html>
<html lang="en" class="no-js">
  <head>
    

      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="The package-based application launcher">
      
      
        <link rel="canonical" href="https://allzpark.com/getting-started/">
      
      
        <meta name="author" content="mottosso">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
<link href="https://fonts.googleapis.com/css?family=Roboto:400,500|Source+Code+Pro" rel="stylesheet">

    
      
        <title>Getting Started - Allzpark</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="white" data-md-color-accent="white">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#what-is-allzpark" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://allzpark.com" title="Allzpark" class="md-header-nav__button md-logo">
          
            <img src="../logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Allzpark
            </span>
            <span class="md-header-nav__topic">
              
                Getting Started
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/mottosso/allzpark/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    mottosso/allzpark
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://allzpark.com" title="Allzpark" class="md-nav__button md-logo">
      
        <img src="../logo.png" width="48" height="48">
      
    </a>
    Allzpark
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/mottosso/allzpark/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    mottosso/allzpark
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../quickstart/" title="Quickstart" class="md-nav__link">
      Quickstart
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Getting Started
      </label>
    
    <a href="./" title="Getting Started" class="md-nav__link md-nav__link--active">
      Getting Started
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-allzpark" title="What is Allzpark?" class="md-nav__link">
    What is Allzpark?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-a-profile" title="What is a "profile"?" class="md-nav__link">
    What is a "profile"?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-an-application" title="What is an "application"?" class="md-nav__link">
    What is an "application"?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-a-package" title="What is a "package"?" class="md-nav__link">
    What is a "package"?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-first-profile" title="Your first profile" class="md-nav__link">
    Your first profile
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#command-line" title="Command Line" class="md-nav__link">
    Command Line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#king-kong" title="King Kong" class="md-nav__link">
    King Kong
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-weve-learned" title="What we've learned" class="md-nav__link">
    What we've learned
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-first-application" title="Your first application" class="md-nav__link">
    Your first application
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#an-application-package" title="An application package" class="md-nav__link">
    An application package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-weve-learned_1" title="What we've learned" class="md-nav__link">
    What we've learned
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-first-payload" title="Your first payload" class="md-nav__link">
    Your first payload
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-some-files" title="Adding some files" class="md-nav__link">
    Adding some files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-weve-learned_2" title="What we've learned" class="md-nav__link">
    What we've learned
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-first-environment" title="Your first environment" class="md-nav__link">
    Your first environment
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-a-new-file" title="Adding a new file" class="md-nav__link">
    Adding a new file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-our-build-command" title="Updating our build command" class="md-nav__link">
    Updating our build command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bonus-chapter" title="Bonus Chapter" class="md-nav__link">
    Bonus Chapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bonus-bonus-chapter" title="Bonus Bonus Chapter" class="md-nav__link">
    Bonus Bonus Chapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-weve-learned_3" title="What we've learned" class="md-nav__link">
    What we've learned
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" title="What's Next?" class="md-nav__link">
    What's Next?
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getting-advanced/" title="Getting Advanced" class="md-nav__link">
      Getting Advanced
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workflow/" title="Workflow" class="md-nav__link">
      Workflow
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../reference/" title="Reference" class="md-nav__link">
      Reference
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../rez/" title="Packaging" class="md-nav__link">
      Packaging
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../examples/" title="Examples" class="md-nav__link">
      Examples
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../shells/" title="Shells" class="md-nav__link">
      Shells
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../windows/" title="Windows" class="md-nav__link">
      Windows
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-allzpark" title="What is Allzpark?" class="md-nav__link">
    What is Allzpark?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-a-profile" title="What is a "profile"?" class="md-nav__link">
    What is a "profile"?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-an-application" title="What is an "application"?" class="md-nav__link">
    What is an "application"?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-a-package" title="What is a "package"?" class="md-nav__link">
    What is a "package"?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-first-profile" title="Your first profile" class="md-nav__link">
    Your first profile
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#command-line" title="Command Line" class="md-nav__link">
    Command Line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#king-kong" title="King Kong" class="md-nav__link">
    King Kong
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-weve-learned" title="What we've learned" class="md-nav__link">
    What we've learned
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-first-application" title="Your first application" class="md-nav__link">
    Your first application
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#an-application-package" title="An application package" class="md-nav__link">
    An application package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-weve-learned_1" title="What we've learned" class="md-nav__link">
    What we've learned
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-first-payload" title="Your first payload" class="md-nav__link">
    Your first payload
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-some-files" title="Adding some files" class="md-nav__link">
    Adding some files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-weve-learned_2" title="What we've learned" class="md-nav__link">
    What we've learned
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-first-environment" title="Your first environment" class="md-nav__link">
    Your first environment
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-a-new-file" title="Adding a new file" class="md-nav__link">
    Adding a new file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-our-build-command" title="Updating our build command" class="md-nav__link">
    Updating our build command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bonus-chapter" title="Bonus Chapter" class="md-nav__link">
    Bonus Chapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bonus-bonus-chapter" title="Bonus Bonus Chapter" class="md-nav__link">
    Bonus Bonus Chapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-weve-learned_3" title="What we've learned" class="md-nav__link">
    What we've learned
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" title="What's Next?" class="md-nav__link">
    What's Next?
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
<small class="modified-date"><br><i>Updated 2019-08-02</i></small>

                
                  <a href="https://github.com/mottosso/allzpark/edit/master/docs/pages/getting-started.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Getting Started</h1>
                
                <p>This page carries on from a successful 👈 <a href="/quickstart">Quickstart</a> into making it relevant to your usecase.</p>
<p><br></p>
<h3 id="what-is-allzpark">What is Allzpark?</h3>
<p>It's an <a href="https://en.wikipedia.org/wiki/Comparison_of_desktop_application_launchers">application launcher</a>, similar to the one on the home screen of your phone or in the Start menu on Windows. The difference is that before actually launching the application, you are able to tailor the associated environment within which the applicatuon runs.</p>
<details class="info"><summary>For example...</summary><p>Let's say you're working on a project using (1) Autodesk Maya, (2) Adobe Photoshop and (3) Pixologic Zbrush.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/2152766/61997103-94d2c480-b094-11e9-81ba-6d8628649bcc.png" /></p>
<p>For Maya, you'd like to use various software libraries, Python scripts and binary plug-ins like Solid Angle's Arnold and Ziva Dynamics. However, each plug-in need to be of a particular version in order to play ball this version of Maya.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/2152766/61997048-9059dc00-b093-11e9-8b03-ceac786f5785.png" /></p>
<p>Over time, the number of projects grow, as do the individual requirements of each application, and many of the plug-ins and libraries end up sharing dependencies with each other.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/2152766/61997075-ff373500-b093-11e9-831b-bfa9e8c3c111.png" /></p>
<p>So now you've got a network of interdependencies that all need to work with each other and wonder..</p>
<ul>
<li>"How can I write my own software that run in this environment?"</li>
<li>"How can I make sure my software runs once deployed?"</li>
</ul>
<p>That's where reproducible enironments come in handy and Allzpark can do for you.</p>
<p><a href="https://github.com/mottosso/bleeding-rez">Rez</a> - an industry standard used by studios large and small - is the framwork with which you design this network and Allzpark is the shiny front-end your artists uses interface with it.</p>
<p><strong>Studios using Rez</strong></p>
<ul>
<li><a href="https://studioanima.co.jp">Studio Anima</a></li>
<li><a href="https://www.animallogic.com/">Animal Logic</a></li>
<li><a href="https://www.imageworks.com/">Sony Imageworks</a></li>
<li><a href="https://www.moving-picture.com/">Moving Picture Company</a></li>
<li><a href="http://www.mikrosimage-animation.eu/en/">Mikros Image</a></li>
<li>And <a href="/about/#rez-users">many more</a></li>
</ul>
</details>
<details class="question"><summary>What are some similar projects?</summary><p>Have a look at these, they solve a similar problem to Allzpark.</p>
<ul>
<li><a href="https://support.shotgunsoftware.com/hc/en-us/articles/219032968-Application-Launcher">Shotgun Launcher</a></li>
<li><a href="https://www.ftrack.com/en/2019/01/an-introduction-to-ftrack-connect.html">ftrack Connect</a></li>
<li><a href="https://vimeo.com/126766739">Mango Software Launcher</a></li>
</ul>
<p>So then, why should you choose Allzpark? Odds are you already have most of what these solutions offer and aren't ready for a complete swap. Allzpark integrates with existing pipelines and works standalone. It'll also work the day you decide to transition from e.g. Shotgun to ftrack, safeguarding your investment in each individual component of your pipeline.</p>
</details>
<p>Here's how you would typically use Allzpark.</p>
<ol>
<li>Boot machine</li>
<li>Boot Allzpark</li>
<li>Select <a href="#what-is-a-profile">profile</a></li>
<li>Boot <a href="#what-is-an-application">application</a></li>
</ol>
<p>For the purposes of this quick walkthrough, I'll assume you are part of a visual effects studio whereby "profile" means e.g. Alita and "application" means e.g. Blender.</p>
<p><br></p>
<p><img class=floating-image src=https://user-images.githubusercontent.com/2152766/62294446-d2539b00-b462-11e9-9ae4-110a25d70674.png></p>
<h4 id="what-is-a-profile">What is a "profile"?</h4>
<p><code>alita</code> is the name given to a profile within which work is performed by multiple stakeholders towards a common goal. It typically consists of these components.</p>
<ul>
<li>Name</li>
<li>Version</li>
<li>Requirements</li>
<li>Environment</li>
<li>Applications</li>
</ul>
<p>Whereby an "application" is the software used within this profile, such as <code>blender</code>, <code>photoshop</code> and <code>sublimetext</code>.</p>
<p>The "requirements" indicate what software or libraries your profile depend on, such as <code>python-3</code> or <code>git-2.21</code> or <code>arnold-6</code>.</p>
<p>The "environment" are hand-crafted variables stored in the launched application. Variables you can later refer back to in the software you write to run within the context of that application. For example, <code>PROJECT_NAME=alita</code> is a relevant variable to add, to allow for the application and your software to identify which profile an application was launched in.</p>
<p>As you might have guessed, projects are <em>versioned</em> and we'll get into more about this and "packages" in general a little later.</p>
<p><br></p>
<p><img class=floating-image src=https://user-images.githubusercontent.com/2152766/62295000-11362080-b464-11e9-8c3b-6af4d6b0755e.png></p>
<h4 id="what-is-an-application">What is an "application"?</h4>
<p><code>blender</code> is an application within which work is performed.</p>
<p>In Allzpark, the profile dictates what applications are available to the user, in order to faciliate a "data pipeline" being built around a pre-determined set of software and libraries.</p>
<p><br></p>
<details class="hint"><summary>Data pipeline?</summary><p>A kind of "codified" workflow. For example, you use the same settings for whenever you export an image from Photoshop to your game engine. Rather than explicitly setting those each time, you make a script to turn the process into a single click. The same then applies to any kind of export and import of data in various applications, to and from various stakeholders in your company.</p>
<p>These are some examples of pre-made "scripts" - in the form of frameworks - suitable for use with Allzpark.</p>
<ul>
<li><a href="http://getavalon.github.io">Avalon</a></li>
<li><a href="https://www.kabaretstudio.com/home">Kabaret</a></li>
<li><a href="http://www.piperpipeline.com">Piper</a></li>
<li><a href="https://www.mangopipeline.com/">Mango Pipeline</a></li>
<li><a href="https://github.com/kiryha/AnimationDNA">AnimationDNA</a></li>
<li><a href="http://www.ardakutlu.com/tik-manager/">Tik Manager</a></li>
</ul>
</details>
<p>An application typically consists of these components.</p>
<ul>
<li>Name</li>
<li>Version</li>
<li>Requirements</li>
<li>Environment</li>
</ul>
<p>Notice that it isn't unlike a profile, and in fact not unlike any other software you'll encounter later on. These are both "packages" and we'll talk a lot more about what that is as we progress through this guide.</p>
<p><br></p>
<p><img class=floating-image src=https://user-images.githubusercontent.com/2152766/62294511-ff07b280-b462-11e9-97ee-917b956e58fc.png></p>
<h4 id="what-is-a-package">What is a "package"?</h4>
<p>I've talked a lot about "packages" and how great they are, but what exactly <em>are</em> they and why should you care?</p>
<p>Without Rez and without Allzpark, software is typically installed "system-wide". That is, your Python install resides somewhere on your system and is automatically added to your system <code>PATH</code>, such that when you type..</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span>python
</pre></div>

<p>From either Bash or PowerShell, this is the version of Python picked up.</p>
<p>A "package" is this, except rather than installing, in this case, Python onto your system, and adding it to your system <code>PATH</code>, it is installed into a portable folder which is added to <code>PATH</code> only when referenced.</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span>rez env python
&gt; python
</pre></div>

<p>A package can contain both files, environment variables but also arbitrary commands that execute whenever the package is referenced, which is how you distribute both applications like Python and libraries and, in the case of Allzpark, profiles.</p>
<p><br></p>
<h3 id="your-first-profile">Your first profile</h3>
<p>You and I are going to embark on a new profile. Let's call it <code>kingkong</code></p>
<p><br></p>
<h4 id="command-line">Command Line</h4>
<p>The way we'll establish this profile, and packages like it, is going to involve the command-line, so let's get comfortable with how it works.</p>
<p>I'll provide command-line instructions for both <code>powershell</code> and <code>bash</code>, to cover both Windows, Linux and MacOS users. You can follow along using either of the two flavours, but odds are the one pre-selected is the one you'll want to use.</p>
<div class="tabs">
  <button class="tab powershell " onclick="setTab(event, 'powershell')"><p>powershell</p><div class="tab-gap"></div></button>
  <button class="tab bash " onclick="setTab(event, 'bash')"><p>bash</p><div class="tab-gap"></div></button>
</div>

<div class="tab-content powershell">
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">$env:POWERSHELL=</span><span style="color: #e6db74">&quot;These lines are for powershell&quot;</span>

<span style="color: #f8f8f2">$var</span> <span style="color: #f8f8f2">=</span> <span style="color: #e6db74">&quot;If you are on Windows, this is where we&#39;ll</span>
<span style="color: #e6db74">        spend most of our time. It also applies to</span>
<span style="color: #e6db74">        pwsh, the cross-platform PowerShell 6+.&quot;</span>
</pre></div>

</div>
<div class="tab-content bash">
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">echo</span> These lines are <span style="color: #66d9ef">for</span> bash
<span style="color: #f8f8f2">echo</span> typically used in MacOS and Linux
</pre></div>

</div>
<p>Now select a shell of your choice and let's get going.</p>
<div class="admonition hint">
<p class="admonition-title">JavaScript</p>
<p>If you aren't seeing any code, make sure you have JavaScript enabled. If this is a problem for you, <a href="https://github.com/mottosso/allzpark/issues">let me know</a>.</p>
</div>
<p><br></p>
<h4 id="king-kong">King Kong</h4>
<p>Each profile requires a folder and a file called <code>package.py</code>.</p>
<div class="tabs">
  <button class="tab powershell " onclick="setTab(event, 'powershell')"><p>powershell</p><div class="tab-gap"></div></button>
  <button class="tab bash " onclick="setTab(event, 'bash')"><p>bash</p><div class="tab-gap"></div></button>
</div>

<div class="tab-content powershell">
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">mkdir</span> <span style="color: #f8f8f2">~/kingkong</span>
<span style="color: #f8f8f2">cd ~/kingkong</span>
<span style="color: #e6db74">@&quot;</span>
<span style="color: #e6db74">name = &quot;kingkong&quot;</span>
<span style="color: #e6db74">version = &quot;1.0.0&quot;</span>
<span style="color: #e6db74">build_command = False</span>
<span style="color: #e6db74">&quot;@</span> <span style="color: #f8f8f2">|</span> <span style="color: #f8f8f2">Add-Content</span> <span style="color: #f8f8f2">package.py</span>
<span style="color: #f8f8f2">rez</span> <span style="color: #f8f8f2">build</span> <span style="color: #f8f8f2">--install</span>
</pre></div>

</div>
<div class="tab-content bash">
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span>mkdir ~/kingkong
<span style="color: #f8f8f2">cd</span> ~/kingkong
<span style="color: #f8f8f2">echo</span> <span style="color: #f8f8f2">name</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;kingkong&quot;</span> &gt;&gt; package.py
<span style="color: #f8f8f2">echo</span> <span style="color: #f8f8f2">version</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;1.0.0&quot;</span> &gt;&gt; package.py
<span style="color: #f8f8f2">echo</span> <span style="color: #f8f8f2">build_command</span> <span style="color: #f92672">=</span> False &gt;&gt; package.py
rez build --install
</pre></div>

</div>
<p>That's it, we've now got a brand new profile. Let's add it to Allzpark and see what it looks like.</p>
<div class="tabs">
  <button class="tab powershell " onclick="setTab(event, 'powershell')"><p>powershell</p><div class="tab-gap"></div></button>
  <button class="tab bash " onclick="setTab(event, 'bash')"><p>bash</p><div class="tab-gap"></div></button>
</div>

<div class="tab-content powershell">
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">$env:MY_PROFILES=</span><span style="color: #e6db74">&quot;kingkong&quot;</span>
<span style="color: #f8f8f2">allzpark</span> <span style="color: #f8f8f2">--demo</span>
</pre></div>

</div>
<div class="tab-content bash">
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">export</span> <span style="color: #f8f8f2">MY_PROFILES</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;kingkong&quot;</span>
allzpark --demo
</pre></div>

</div>
<p><img alt="image" src="https://user-images.githubusercontent.com/2152766/61939300-dd05c000-af8a-11e9-8a3d-429ce532e0d6.png" /></p>
<p>We'll do a lot more of this as we go along, so don't worry if it doesn't quite make sense just yet.</p>
<div class="admonition note">
<p class="admonition-title">Regarding <code>MY_PROFILES</code></p>
<p>I've programmed this demo to take the environment variable <code>MY_PROFILES</code> into account, but we'll have a look later at how you can customise how projects are actually discovered either from disk, a production tracking system like Shotgun or arbitrary function you provide.</p>
</div>
<p><br></p>
<h4 id="what-weve-learned">What we've learned</h4>
<p>Let's take a moment to reflect on what we've accomplished so far.</p>
<ol>
<li>We've gotten familiar with the <code>rez</code> command</li>
<li>We've authored a new Rez package from scratch</li>
<li>We've used <code>rez build</code>, one of many Rez sub-commands, to build and install a package</li>
<li>We've made Allzpark aware of this new profile package, via the <code>MY_PROFILES</code> environment variable.</li>
</ol>
<p>Next we'll have a look at how to add an application to your profile, and how to actually make a new application from scratch.</p>
<p><br></p>
<h3 id="your-first-application">Your first application</h3>
<p>There isn't much we can do with a profile unless we've got an application, so let's add one.</p>
<ol>
<li>Open <code>kingkong/package.py</code> in your favourite text editor</li>
<li>Edit it as follows.</li>
</ol>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">name</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;kingkong&quot;</span>
<span style="background-color: #49483e"><span style="color: #f8f8f2">version</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;1.0.1&quot;</span>
</span><span style="color: #f8f8f2">build_command</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">False</span>

<span style="background-color: #49483e"><span style="color: #f8f8f2">requires</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">[</span>
</span><span style="background-color: #49483e">    <span style="color: #e6db74">&quot;~maya==2018.0.6&quot;</span><span style="color: #f8f8f2">,</span>
</span><span style="background-color: #49483e">    <span style="color: #e6db74">&quot;~blender==2.80.0&quot;</span><span style="color: #f8f8f2">,</span>
</span><span style="background-color: #49483e"><span style="color: #f8f8f2">]</span>
</span></pre></div>

<p>As you may have guessed, these are the <em>requirements</em> of this profile. That little squiggly <code>~</code> character ahead of <code>maya</code> indicates that this is a "weak" reference, which Allzpark interprets as application in this profile.</p>
<div class="admonition hint">
<p class="admonition-title">Pro tip</p>
<p>If you're already familiar with Rez and think to yourself "This isn't very flexible", you're right. Looking for applications in the requirements section of a package is a default you can customise later via the <code>allzparkconfig.py:applications_from_package()</code> function.</p>
</div>
<p>We'll talk more about requirements next, let's install this package and launch Allzpark.</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">cd</span> kingkong
rez build --install
allzpark --demo
</pre></div>

<p><img alt="allzpark_kingkong" src="https://user-images.githubusercontent.com/2152766/61941483-7e8f1080-af8f-11e9-9192-235b5c139dfb.gif" /></p>
<div class="admonition hint">
<p class="admonition-title">Pro tip</p>
<p>You'll notice the order in which you specified the applications are respected in the GUI.</p>
</div>
<p><br></p>
<h4 id="an-application-package">An application package</h4>
<p>Ok, but we didn't really create an application so much as just add an existing one to the profile. Let's create a new application from your OS and add <em>that</em> to the profile too.</p>
<p>You can pick any application you'd like, for the purposes of this guide I'll make a package for a text editor.</p>
<div class="tabs">
  <button class="tab powershell " onclick="setTab(event, 'powershell')"><p>powershell</p><div class="tab-gap"></div></button>
  <button class="tab bash " onclick="setTab(event, 'bash')"><p>bash</p><div class="tab-gap"></div></button>
</div>

<div class="tab-content powershell">
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">mkdir</span> <span style="color: #f8f8f2">~/texteditor</span>
<span style="color: #f8f8f2">cd ~/texteditor</span>
<span style="color: #e6db74">@&quot;</span>
<span style="color: #e6db74">name = &quot;texteditor&quot;</span>
<span style="color: #e6db74">version = &quot;1.5.0&quot;</span>
<span style="color: #e6db74">build_command = False</span>
<span style="color: #e6db74">&quot;@</span> <span style="color: #f8f8f2">|</span> <span style="color: #f8f8f2">Add-Content</span> <span style="color: #f8f8f2">package.py</span>
<span style="color: #f8f8f2">rez</span> <span style="color: #f8f8f2">build</span> <span style="color: #f8f8f2">--install</span>
</pre></div>

</div>
<div class="tab-content bash">
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span>mkdir ~/texteditor
<span style="color: #f8f8f2">cd</span> ~/texteditor
<span style="color: #f8f8f2">echo</span> <span style="color: #f8f8f2">name</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;texteditor&quot;</span> &gt;&gt; package.py
<span style="color: #f8f8f2">echo</span> <span style="color: #f8f8f2">version</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;1.5.0&quot;</span> &gt;&gt; package.py
<span style="color: #f8f8f2">echo</span> <span style="color: #f8f8f2">build_command</span> <span style="color: #f92672">=</span> False &gt;&gt; package.py
rez build --install
</pre></div>

</div>
<p>You'll notice the similarity to creating a profile and that's no coincidence. These are both Rez "packages". But there's something missing.</p>
<p>Unlike a profile, an application must either reference an executable on disk, or encapsulate this executable into the package. We'll get into encapsulating files with a package a little later, for now let's have a look at how to reference a file on disk.</p>
<p><strong>texteditor/package.py</strong></p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">name</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;texteditor&quot;</span>
<span style="color: #f8f8f2">version</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;1.5.1&quot;</span>
<span style="color: #f8f8f2">build_command</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">False</span>

<span style="background-color: #49483e"><span style="color: #66d9ef">def</span> <span style="color: #a6e22e">commands</span><span style="color: #f8f8f2">():</span>
</span><span style="background-color: #49483e">    <span style="color: #f92672">import</span> <span style="color: #f8f8f2">os</span>
</span><span style="background-color: #49483e">    <span style="color: #66d9ef">global</span> <span style="color: #f8f8f2">alias</span>
</span><span style="background-color: #49483e">
</span><span style="background-color: #49483e">    <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">name</span> <span style="color: #f92672">==</span> <span style="color: #e6db74">&quot;nt&quot;</span><span style="color: #f8f8f2">:</span>
</span><span style="background-color: #49483e">        <span style="color: #f8f8f2">alias(</span><span style="color: #e6db74">&quot;texteditor&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">r&quot;notepad&quot;</span><span style="color: #f8f8f2">)</span>
</span><span style="background-color: #49483e">    <span style="color: #66d9ef">elif</span> <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">name</span> <span style="color: #f92672">==</span> <span style="color: #e6db74">&quot;darwin&quot;</span><span style="color: #f8f8f2">:</span>
</span><span style="background-color: #49483e">        <span style="color: #f8f8f2">alias(</span><span style="color: #e6db74">&quot;texteditor&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">r&quot;textedit&quot;</span><span style="color: #f8f8f2">)</span>
</span><span style="background-color: #49483e">    <span style="color: #66d9ef">else</span><span style="color: #f8f8f2">:</span>
</span><span style="background-color: #49483e">        <span style="color: #f8f8f2">alias(</span><span style="color: #e6db74">&quot;texteditor&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">r&quot;gedit&quot;</span><span style="color: #f8f8f2">)</span>
</span></pre></div>

<p>The <code>commands()</code> function is called whenever your package is referenced, and <code>alias()</code> creates a command you can use from within a context. We're able to leverage regular Python imports and commands here as well, which is how we detect the running operating system.</p>
<div class="admonition note">
<p class="admonition-title">About assumptions</p>
<p>One of the issues with referencing system software like this is, well, how can we be sure these actually exist on the target operating system? For Windows it's a given, but what about Linux? We'll see this problem crop up again later, and is in fact already an issue with the pre-existing demo packages for Maya and Blender.</p>
<p>For the purposes of this guide, these assumptions are fine and I'll show you later how you can avoid making them, and at what cost.</p>
</div>
<p>Let's try this out.</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">cd</span> texteditor
rez build --install
rez env texteditor --paths <span style="color: #66d9ef">$(</span>allzparkdemo --packages<span style="color: #66d9ef">)</span>
&gt; texteditor
</pre></div>

<p><img alt="image" src="https://user-images.githubusercontent.com/2152766/61943522-88b30e00-af93-11e9-9be3-b4e52923adf2.png" /></p>
<p>This is the equivalent command-line procedure to what Allzpark is doing when you launch an application. Don't worry too much about what <code>rez env</code> actually does right now, we'll talk a lot more about it later. Let's try this out in Allzpark too.</p>
<p><strong>kingkong/package.py</strong></p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">name</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;kingkong&quot;</span>
<span style="background-color: #49483e"><span style="color: #f8f8f2">version</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;1.0.2&quot;</span>
</span><span style="color: #f8f8f2">build_command</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">False</span>

<span style="background-color: #49483e"><span style="color: #f8f8f2">requires</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">[</span>
</span><span style="background-color: #49483e">    <span style="color: #e6db74">&quot;~maya==2018.0.6&quot;</span><span style="color: #f8f8f2">,</span>
</span><span style="background-color: #49483e">    <span style="color: #e6db74">&quot;~blender==2.80.0&quot;</span><span style="color: #f8f8f2">,</span>
</span><span style="background-color: #49483e">    <span style="color: #e6db74">&quot;~texteditor==1.5.1&quot;</span><span style="color: #f8f8f2">,</span>
</span><span style="background-color: #49483e"><span style="color: #f8f8f2">]</span>
</span></pre></div>

<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">cd</span> kingkong
rez build --install
allzpark --demo
</pre></div>

<p><img alt="image" src="https://user-images.githubusercontent.com/2152766/61945604-4dffa480-af98-11e9-863d-3856d5654832.png" /></p>
<p>And presto!</p>
<div class="admonition hint">
<p class="admonition-title">Pro tip</p>
<p>Notice that our terminal doesn't yet have an icon, and its name is all lowercase and plain. We'll address this next, in the <a href="#your-first-payload">Payload</a> chapter.</p>
</div>
<p><br></p>
<h4 id="what-weve-learned_1">What we've learned</h4>
<p>You made it! Let's reflect on what we've learned so far.</p>
<ol>
<li>Creating a new application is not unlike creating a new profile</li>
<li>Packages have a <code>commands()</code> function you can use to "bootstrap" an environment with custom commands</li>
<li>There's pros and cons to referencing system software, like a text editor.</li>
</ol>
<p><br></p>
<h3 id="your-first-payload">Your first payload</h3>
<p>We've managed to make a new profile, and an application and we're just about ready to start developing the next King Kong movie.</p>
<p>But there is something else missing. For the purposes of this chapter, I will assume you are developing King Kong using Autodesk Maya, but the same applies to just about any application.</p>
<p>Let's start by adding some files to your package.</p>
<p><br></p>
<h4 id="adding-some-files">Adding some files</h4>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span>kingkong/
    resources/
        icon.png
</pre></div>

<p><img align=right src=https://user-images.githubusercontent.com/2152766/62296147-6d01a900-b466-11e9-9a88-7ac301ee4312.png></p>
<p>I'm going to use this image, but you can use anything you've got lying around, so long as it's a <code>.png</code> file of reasonable size and aspect ratio.</p>
<p>Then I'll update our <code>package.py</code> as well.</p>
<p><br></p>
<p><strong>package.py</strong></p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">name</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;kingkong&quot;</span>
<span style="color: #f8f8f2">version</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;1.0.3&quot;</span>
<span style="background-color: #49483e"><span style="color: #f8f8f2">build_command</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;python {root}/install.py&quot;</span>  <span style="color: #75715e"># 1</span>
</span>
<span style="background-color: #49483e"><span style="color: #f8f8f2">_data</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">{</span>                                   <span style="color: #75715e"># 2</span>
</span><span style="background-color: #49483e">    <span style="color: #e6db74">&quot;label&quot;</span><span style="color: #f8f8f2">:</span> <span style="color: #e6db74">&quot;King Kong&quot;</span><span style="color: #f8f8f2">,</span>
</span><span style="background-color: #49483e">    <span style="color: #e6db74">&quot;icon&quot;</span><span style="color: #f8f8f2">:</span> <span style="color: #e6db74">&quot;{root}/resources/icon.png&quot;</span><span style="color: #f8f8f2">,</span>
</span><span style="background-color: #49483e"><span style="color: #f8f8f2">}</span>
</span><span style="background-color: #49483e">
</span><span style="color: #f8f8f2">requires</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">[</span>
<span style="background-color: #49483e">    <span style="color: #e6db74">&quot;python-2.7,&lt;4&quot;</span><span style="color: #f8f8f2">,</span>                        <span style="color: #75715e"># 3</span>
</span>    <span style="color: #e6db74">&quot;~maya==2018.0.6&quot;</span><span style="color: #f8f8f2">,</span>
    <span style="color: #e6db74">&quot;~blender==2.80.0&quot;</span><span style="color: #f8f8f2">,</span>
    <span style="color: #e6db74">&quot;~texteditor==1.5.1&quot;</span><span style="color: #f8f8f2">,</span>
<span style="color: #f8f8f2">]</span>
</pre></div>

<p>Let's walk through these changes.</p>
<ol>
<li>We first update out <code>build_command</code> to call on a script, the script we'll use to copy files from your package folder to the <code>build/</code> folder which is later installed.</li>
<li>Next we add <code>_data</code> which isn't related to Rez, but rather <em>arbitrary data</em> provided to a package. You can add any number of variables, but it is good practice to avoid clashing with built-in variables by prefixing it with <code>_</code>. In this case, Allzpark is programmed to look for this variable to find <code>label</code> and <code>icon</code>.</li>
<li>We add <code>python-2.7,&lt;4</code> to our list of requirements, without <code>~</code> this time.</li>
</ol>
<p>Here's what the files look like.</p>
<p><strong>install.py</strong></p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #75715e"># This script is called on `rez build`</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">os</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">shutil</span>

<span style="color: #66d9ef">print</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;Running install.py...&quot;</span><span style="color: #f8f8f2">)</span>
<span style="color: #f8f8f2">root</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">path</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">dirname(__file__)</span>
<span style="color: #f8f8f2">build_dir</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">environ[</span><span style="color: #e6db74">&quot;REZ_BUILD_PATH&quot;</span><span style="color: #f8f8f2">]</span>
<span style="color: #f8f8f2">install_dir</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">environ[</span><span style="color: #e6db74">&quot;REZ_BUILD_INSTALL_PATH&quot;</span><span style="color: #f8f8f2">]</span>

<span style="color: #66d9ef">print</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;Copying payload to %s..&quot;</span> <span style="color: #f92672">%</span> <span style="color: #f8f8f2">build_dir)</span>
<span style="color: #f8f8f2">shutil</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">copytree(</span>
    <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">path</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">join(root,</span> <span style="color: #e6db74">&quot;resources&quot;</span><span style="color: #f8f8f2">),</span>
    <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">path</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">join(build_dir,</span> <span style="color: #e6db74">&quot;resources&quot;</span><span style="color: #f8f8f2">),</span>
    <span style="color: #f8f8f2">ignore</span><span style="color: #f92672">=</span><span style="color: #f8f8f2">shutil</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">ignore_patterns(</span><span style="color: #e6db74">&quot;*.pyc&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;__pycache__&quot;</span><span style="color: #f8f8f2">)</span>
<span style="color: #f8f8f2">)</span>

<span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">int(os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">getenv(</span><span style="color: #e6db74">&quot;REZ_BUILD_INSTALL&quot;</span><span style="color: #f8f8f2">)):</span>
    <span style="color: #75715e"># This part is called with `rez build --install`</span>
    <span style="color: #66d9ef">print</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;Installing payload to %s...&quot;</span> <span style="color: #f92672">%</span> <span style="color: #f8f8f2">install_dir)</span>
    <span style="color: #f8f8f2">shutil</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">copytree(</span>
        <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">path</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">join(build_dir,</span> <span style="color: #e6db74">&quot;resources&quot;</span><span style="color: #f8f8f2">),</span>
        <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">path</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">join(install_dir,</span> <span style="color: #e6db74">&quot;resources&quot;</span><span style="color: #f8f8f2">),</span>
    <span style="color: #f8f8f2">)</span>
</pre></div>

<p>Now let's try and build our package once more.</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">cd</span> kingkong
rez build --install --clean
allzpark --demo
</pre></div>

<blockquote>
<p><code>--clean</code> will erase any existing <code>build/</code> directory, such that you can build over and over and over.</p>
</blockquote>
<div class="admonition warning">
<p class="admonition-title">New version</p>
<p>Make sure you increment your version each time you install, or implement the appropriate clean-up functionality in your <code>install.py</code> script, as otherwise it may throw an exception about not being able to write into a directory that already has files in it.</p>
<p>Generally, it's fine to overwrite packages you install locally; we'll talk about how local differs from a "release" a little later, and how you can employ continuous integration and write-protect your public release folder for an additional level of security.</p>
</div>
<p><img alt="allzpark_kingkonglabel" src="https://user-images.githubusercontent.com/2152766/62297806-c28b8500-b469-11e9-9d61-962a2fc7979f.gif" /></p>
<p><br></p>
<h4 id="what-weve-learned_2">What we've learned</h4>
<p>High five! ✋ You've now learnt how to include files with your package, this is what we'll use to distribute software like Python libraries along with profile-specific files like the icon we've seen but also files related to potential applications you use, such as Maya script files or shelves.</p>
<p>But what if you wanted to include a Python library and call that from an application? How can the application be made aware of what you've included in your package? This is where the environment comes in, and we'll have a look at that next.</p>
<p><br></p>
<h3 id="your-first-environment">Your first environment</h3>
<p>So your profile has got some custom data, that's perfect. Now let's add some <em>metadata</em> as well.</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">name</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;kingkong&quot;</span>
<span style="color: #f8f8f2">version</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;1.0.5&quot;</span>
<span style="color: #f8f8f2">build_command</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;python {root}/install.py&quot;</span>

<span style="color: #f8f8f2">_data</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #e6db74">&quot;label&quot;</span><span style="color: #f8f8f2">:</span> <span style="color: #e6db74">&quot;King Kong&quot;</span><span style="color: #f8f8f2">,</span>
    <span style="color: #e6db74">&quot;icon&quot;</span><span style="color: #f8f8f2">:</span> <span style="color: #e6db74">&quot;{root}/resources/icon.png&quot;</span><span style="color: #f8f8f2">,</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #f8f8f2">requires</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">[</span>
    <span style="color: #e6db74">&quot;python-2.7,&lt;4&quot;</span><span style="color: #f8f8f2">,</span>
    <span style="color: #e6db74">&quot;~maya==2018.0.6&quot;</span><span style="color: #f8f8f2">,</span>
    <span style="color: #e6db74">&quot;~blender==2.80.0&quot;</span><span style="color: #f8f8f2">,</span>
    <span style="color: #e6db74">&quot;~texteditor==1.5.1&quot;</span><span style="color: #f8f8f2">,</span>
<span style="color: #f8f8f2">]</span>

<span style="background-color: #49483e"><span style="color: #66d9ef">def</span> <span style="color: #a6e22e">commands</span><span style="color: #f8f8f2">():</span>
</span><span style="background-color: #49483e">    <span style="color: #66d9ef">global</span> <span style="color: #f8f8f2">env</span>
</span><span style="background-color: #49483e">
</span><span style="background-color: #49483e">    <span style="color: #f8f8f2">env[</span><span style="color: #e6db74">&quot;PROJECT_ID&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;12&quot;</span>
</span><span style="background-color: #49483e">    <span style="color: #f8f8f2">env[</span><span style="color: #e6db74">&quot;PROJECT_NAME&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;kingkong&quot;</span>
</span><span style="background-color: #49483e">    <span style="color: #f8f8f2">env[</span><span style="color: #e6db74">&quot;PROJECT_FRAMERATE&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;25&quot;</span>
</span><span style="background-color: #49483e">    <span style="color: #f8f8f2">env[</span><span style="color: #e6db74">&quot;PROJECT_TAGS&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;awesome,great,best&quot;</span>
</span>
<span style="background-color: #49483e">    <span style="color: #f8f8f2">env[</span><span style="color: #e6db74">&quot;PYTHONPATH&quot;</span><span style="color: #f8f8f2">]</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">prepend(</span><span style="color: #e6db74">&quot;{root}/python&quot;</span><span style="color: #f8f8f2">)</span>
</span></pre></div>

<p>The global variable <code>env</code> is shared amongst each of your packages, passed from one to the next, in the order they are resolved.</p>
<div class="admonition hint">
<p class="admonition-title">Pro tip</p>
<p>Packages are resolved in the order they are required. That is, if Alita requires Maya, then Maya's <code>commands()</code> function is called <em>first</em>.</p>
</div>
<p>As you've noticed, we can use this as both a dictionary and class with a <code>.prepend()</code> member. Prepend automatically treats the variable as a PATH-like variable and <code>.prepend()</code> in this case prepends a given value to that variable. There's also <code>.append()</code> for the opposite effect. Whether to append or prepend depends on your use case.</p>
<div class="tabs">
  <button class="tab powershell " onclick="setTab(event, 'powershell')"><p>powershell</p><div class="tab-gap"></div></button>
  <button class="tab bash " onclick="setTab(event, 'bash')"><p>bash</p><div class="tab-gap"></div></button>
</div>

<div class="tab-content powershell">
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #75715e"># Prepend</span>
<span style="color: #f8f8f2">PYTHONPATH=</span><span style="color: #e6db74">&quot;c:\packages\alita\1.0\python;c:\packages\maya\2018.0\python&quot;</span>

<span style="color: #75715e"># Append</span>
<span style="color: #f8f8f2">PYTHONPATH=</span><span style="color: #e6db74">&quot;c:\packages\maya\2018.0\python;c:\packages\alita\1.0\python&quot;</span>
</pre></div>

</div>
<div class="tab-content bash">
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #75715e"># Prepend</span>
<span style="color: #f8f8f2">PYTHONPATH</span><span style="color: #f92672">=</span>/packages/alita/1.0/python:/packages/maya/2018.0/python

<span style="color: #75715e"># Append</span>
<span style="color: #f8f8f2">PYTHONPATH</span><span style="color: #f92672">=</span>/packages/maya/2018.0/python:/packages/alita/1.0/python
</pre></div>

</div>
<p>Ok, that's great, the package now prepends <code>"{root}/python"</code>, let' actually create that folder now.</p>
<p><br></p>
<h4 id="adding-a-new-file">Adding a new file</h4>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span>kingkong/
    resources/
        icon.png
<span style="background-color: #49483e">    python/
</span><span style="background-color: #49483e">        kingkong.py
</span></pre></div>

<p>In my file, I'll put something like this.</p>
<p><strong>kingkong/python/kingkong.py</strong></p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">def</span> <span style="color: #a6e22e">king</span><span style="color: #f8f8f2">():</span>
    <span style="color: #66d9ef">print</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;kong!&quot;</span><span style="color: #f8f8f2">)</span>
</pre></div>

<p>We'll also need to update our <code>install.py</code> to include this file.</p>
<p><br></p>
<h4 id="updating-our-build-command">Updating our build command</h4>
<p><strong>kingkong/install.py</strong></p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #75715e"># This script is called on `rez build`</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">os</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">shutil</span>

<span style="color: #66d9ef">print</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;Running install.py...&quot;</span><span style="color: #f8f8f2">)</span>
<span style="color: #f8f8f2">root</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">path</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">dirname(__file__)</span>
<span style="color: #f8f8f2">build_dir</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">environ[</span><span style="color: #e6db74">&quot;REZ_BUILD_PATH&quot;</span><span style="color: #f8f8f2">]</span>
<span style="color: #f8f8f2">install_dir</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">environ[</span><span style="color: #e6db74">&quot;REZ_BUILD_INSTALL_PATH&quot;</span><span style="color: #f8f8f2">]</span>
<span style="background-color: #49483e"><span style="color: #f8f8f2">dirs</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">[</span><span style="color: #e6db74">&quot;resources&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;python&quot;</span><span style="color: #f8f8f2">]</span>
</span>
<span style="color: #66d9ef">print</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;Copying payload to %s..&quot;</span> <span style="color: #f92672">%</span> <span style="color: #f8f8f2">build_dir)</span>
<span style="background-color: #49483e"><span style="color: #66d9ef">for</span> <span style="color: #f8f8f2">dirname</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">dirs:</span>
</span>    <span style="color: #f8f8f2">shutil</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">copytree(</span>
<span style="background-color: #49483e">        <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">path</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">join(root,</span> <span style="color: #f8f8f2">dirname),</span>
</span><span style="background-color: #49483e">        <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">path</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">join(build_dir,</span> <span style="color: #f8f8f2">dirname),</span>
</span>        <span style="color: #f8f8f2">ignore</span><span style="color: #f92672">=</span><span style="color: #f8f8f2">shutil</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">ignore_patterns(</span><span style="color: #e6db74">&quot;*.pyc&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;__pycache__&quot;</span><span style="color: #f8f8f2">)</span>
    <span style="color: #f8f8f2">)</span>

<span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">int(os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">getenv(</span><span style="color: #e6db74">&quot;REZ_BUILD_INSTALL&quot;</span><span style="color: #f8f8f2">)):</span>
    <span style="color: #75715e"># This part is called with `rez build --install`</span>
    <span style="color: #66d9ef">print</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;Installing payload to %s...&quot;</span> <span style="color: #f92672">%</span> <span style="color: #f8f8f2">install_dir)</span>
<span style="background-color: #49483e">    <span style="color: #66d9ef">for</span> <span style="color: #f8f8f2">dirname</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">dirs:</span>
</span>        <span style="color: #f8f8f2">shutil</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">copytree(</span>
<span style="background-color: #49483e">            <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">path</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">join(build_dir,</span> <span style="color: #f8f8f2">dirname),</span>
</span><span style="background-color: #49483e">            <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">path</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">join(install_dir,</span> <span style="color: #f8f8f2">dirname),</span>
</span>        <span style="color: #f8f8f2">)</span>
</pre></div>

<p>Now let's build and run.</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">cd</span> kingkong
rez build --install --clean
allzpark --demo
</pre></div>

<p><img alt="allzpark_king" src="https://user-images.githubusercontent.com/2152766/62358941-b48f4000-b50d-11e9-9f60-d5529744a1f7.gif" /></p>
<p><br></p>
<h4 id="bonus-chapter">Bonus Chapter</h4>
<p>As you're learned, writing that <code>install.py</code> script is rather tedious, and you'll need one of these for every package you create. Wouldn't it be great if you could make a <em>generic</em> install script that you could reuse across each of your projects?</p>
<p>Well, yes, yes you can!</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">name</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;kingkong&quot;</span>
<span style="color: #f8f8f2">version</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;1.0.5&quot;</span>
<span style="background-color: #49483e"><span style="color: #f8f8f2">build_command</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;python -m rezutil {root}&quot;</span>
</span>
<span style="color: #f8f8f2">_data</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #e6db74">&quot;label&quot;</span><span style="color: #f8f8f2">:</span> <span style="color: #e6db74">&quot;King Kong&quot;</span><span style="color: #f8f8f2">,</span>
    <span style="color: #e6db74">&quot;icon&quot;</span><span style="color: #f8f8f2">:</span> <span style="color: #e6db74">&quot;{root}/resources/icon.png&quot;</span><span style="color: #f8f8f2">,</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #f8f8f2">requires</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">[</span>
    <span style="color: #e6db74">&quot;python-2.7,&lt;4&quot;</span><span style="color: #f8f8f2">,</span>
<span style="background-color: #49483e">    <span style="color: #e6db74">&quot;rezutil-1&quot;</span><span style="color: #f8f8f2">,</span>
</span>    <span style="color: #e6db74">&quot;~maya==2018.0.6&quot;</span><span style="color: #f8f8f2">,</span>
    <span style="color: #e6db74">&quot;~blender==2.80.0&quot;</span><span style="color: #f8f8f2">,</span>
    <span style="color: #e6db74">&quot;~texteditor==1.5.1&quot;</span><span style="color: #f8f8f2">,</span>
<span style="color: #f8f8f2">]</span>

<span style="color: #66d9ef">def</span> <span style="color: #a6e22e">commands</span><span style="color: #f8f8f2">():</span>
    <span style="color: #66d9ef">global</span> <span style="color: #f8f8f2">env</span>

    <span style="color: #f8f8f2">env[</span><span style="color: #e6db74">&quot;PROJECT_ID&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;12&quot;</span>
    <span style="color: #f8f8f2">env[</span><span style="color: #e6db74">&quot;PROJECT_NAME&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;kingkong&quot;</span>
    <span style="color: #f8f8f2">env[</span><span style="color: #e6db74">&quot;PROJECT_FRAMERATE&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;25&quot;</span>
    <span style="color: #f8f8f2">env[</span><span style="color: #e6db74">&quot;PROJECT_TAGS&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;awesome,great,best&quot;</span>

    <span style="color: #f8f8f2">env[</span><span style="color: #e6db74">&quot;PYTHONPATH&quot;</span><span style="color: #f8f8f2">]</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">prepend(</span><span style="color: #e6db74">&quot;{root}/python&quot;</span><span style="color: #f8f8f2">)</span>
</pre></div>

<p>Notice the addition of <code>rezutil</code>, and that I've removed any reference to <code>install.py</code>, that you can go ahead and delete. This is an example of using a Rez package to build another Rez package and is a really common technique for situations just like this.</p>
<p>Let's build the project to confirm we're getting the exact same result.</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">cd</span> kingkong
rez build --install --clean
</pre></div>

<p>Et voila!</p>
<div class="admonition hint">
<p class="admonition-title">Pro tip</p>
<p>Also notice that we didn't update the version this time, because built-in to <code>rezutil</code> is handling overwrites along with <em>retries</em> for when writing to an unreliable network resource.</p>
</div>
<p>You can find this mystical <code>rezutil</code> package <a href="https://github.com/mottosso/allzparkdemo/tree/master/allzparkdemo/dev/rezutil">here</a>, as well as on your local harddrive found here:</p>
<div class="tabs">
  <button class="tab powershell " onclick="setTab(event, 'powershell')"><p>powershell</p><div class="tab-gap"></div></button>
  <button class="tab bash " onclick="setTab(event, 'bash')"><p>bash</p><div class="tab-gap"></div></button>
</div>

<div class="tab-content powershell">
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">start $(allzparkdemo</span> <span style="color: #f8f8f2">--packages)</span>
</pre></div>

</div>
<div class="tab-content bash">
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span>allzparkdemo --packages
</pre></div>

</div>
<div class="admonition hint">
<p class="admonition-title">Pro tip</p>
<p>The source package can be found one level up, in the <code>dev/</code> directory.</p>
</div>
<p><br></p>
<h4 id="bonus-bonus-chapter">Bonus Bonus Chapter</h4>
<p>One final note about the <code>rezutil</code> package; you'll notice that because we've included it as a requirement to the <code>kingkong</code> profile, the package is also made visible to any application started from within this profile. In this case however, this package is only really relevant during package build.</p>
<p>We can work around this by making it a <em>private</em> requirement.</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">name</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;kingkong&quot;</span>
<span style="color: #f8f8f2">version</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;1.0.5&quot;</span>
<span style="color: #f8f8f2">build_command</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;python -m rezutil {root}&quot;</span>
<span style="background-color: #49483e"><span style="color: #f8f8f2">private_build_requires</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">[</span><span style="color: #e6db74">&quot;rezutil-1&quot;</span><span style="color: #f8f8f2">]</span>
</span>
<span style="color: #f8f8f2">_data</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #e6db74">&quot;label&quot;</span><span style="color: #f8f8f2">:</span> <span style="color: #e6db74">&quot;King Kong&quot;</span><span style="color: #f8f8f2">,</span>
    <span style="color: #e6db74">&quot;icon&quot;</span><span style="color: #f8f8f2">:</span> <span style="color: #e6db74">&quot;{root}/resources/icon.png&quot;</span><span style="color: #f8f8f2">,</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #f8f8f2">requires</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">[</span>
<span style="background-color: #49483e">    <span style="color: #75715e"># &quot;python-2.7,&lt;4&quot;,</span>
</span><span style="background-color: #49483e">    <span style="color: #75715e"># &quot;rezutil-1&quot;,</span>
</span>    <span style="color: #e6db74">&quot;~maya==2018.0.6&quot;</span><span style="color: #f8f8f2">,</span>
    <span style="color: #e6db74">&quot;~blender==2.80.0&quot;</span><span style="color: #f8f8f2">,</span>
    <span style="color: #e6db74">&quot;~texteditor==1.5.1&quot;</span><span style="color: #f8f8f2">,</span>
<span style="color: #f8f8f2">]</span>

<span style="color: #66d9ef">def</span> <span style="color: #a6e22e">commands</span><span style="color: #f8f8f2">():</span>
    <span style="color: #66d9ef">global</span> <span style="color: #f8f8f2">env</span>

    <span style="color: #f8f8f2">env[</span><span style="color: #e6db74">&quot;PROJECT_ID&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;12&quot;</span>
    <span style="color: #f8f8f2">env[</span><span style="color: #e6db74">&quot;PROJECT_NAME&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;kingkong&quot;</span>
    <span style="color: #f8f8f2">env[</span><span style="color: #e6db74">&quot;PROJECT_FRAMERATE&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;25&quot;</span>
    <span style="color: #f8f8f2">env[</span><span style="color: #e6db74">&quot;PROJECT_TAGS&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;awesome,great,best&quot;</span>

    <span style="color: #f8f8f2">env[</span><span style="color: #e6db74">&quot;PYTHONPATH&quot;</span><span style="color: #f8f8f2">]</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">prepend(</span><span style="color: #e6db74">&quot;{root}/python&quot;</span><span style="color: #f8f8f2">)</span>
</pre></div>

<p>I also removed the requirement for Python, as this is also only really relevant during build.</p>
<p><br></p>
<h4 id="what-weve-learned_3">What we've learned</h4>
<p>Woho! You're a fully certified Rez environment artist!</p>
<ul>
<li>A package can modify its environment</li>
<li>PATH-like variables have a convenient <code>prepend</code> and <code>append</code>, more on that <a href="https://github.com/mottosso/bleeding-rez/wiki/Package-Commands#variable-appending-and-prepending">here</a></li>
<li>Variables have access to special variables, like <code>{root}</code>, more about that <a href="https://github.com/mottosso/bleeding-rez/wiki/Package-Commands#string-expansion">here</a></li>
<li>You can use Rez packages to build Rez packages (neat!)</li>
</ul>
<p><br></p>
<h3 id="whats-next">What's Next?</h3>
<p>From here, you are able to craft packages of any kind, both profiles, applications and libraries along with linking them together via <code>requires</code> (and let's not forget <code>private_build_requires</code>!). At this point, you're ready to head out into the wild.</p>
<ul>
<li><a href="https://github.com/mottosso/allzparkdemo/tree/master/allzparkdemo/dev">Package Examples</a></li>
<li><a href="https://github.com/mottosso/allzparkdemo/blob/master/allzparkdemo/dev/alita/package.py">Advanced Profile Example</a></li>
<li><a href="https://allzpark.com/reference">Allzpark Tutorials</a></li>
<li><a href="https://github.com/mottosso/bleeding-rez/wiki">Rez Wiki</a></li>
<li><a href="https://allzpark.com/rez">Rez Tutorials</a></li>
<li><a href="https://rez-talk.slack.com/">Rez Chat</a> (Ask for invite on mailing list)</li>
<li><a href="https://groups.google.com/forum/#!forum/rez-config">Rez Mailing List</a></li>
</ul>
<p>Something else on your mind? <a href="https://github.com/mottosso/allzpark/issues">Let me know!</a></p>
<div class="admonition note">
<p class="admonition-title">bleeding vs. nerdvegas Rez</p>
<p>In this project we use bleeding-rez which is a flavour of Rez better suited for profiles like the one we've made here, but the two projects are nearly identical. When asking for help, it's safe to assume that any issue you're having is relevant to both projects; however it can be worth mentioning that you are using <a href="https://github.com/mottosso/bleeding-rez">bleeding-rez</a>, rather than <a href="https://github.com/nerdvegas/rez">nerdvegas/rez</a>.</p>
</div>
                
                  
                
              

              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../quickstart/" title="Quickstart" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Quickstart
              </span>
            </div>
          </a>
        
        
          <a href="../getting-advanced/" title="Getting Advanced" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Getting Advanced
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 mottosso
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="../extra.js"></script>
      
    
  </body>
</html>